{% load static %}
<!--Modal: Login / Register Form-->
<div class="modal fade" id="modalLRForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog cascading-modal" role="document">
        <!--Content-->
        <div class="modal-content">

            <!--Modal cascading tabs-->
            <div class="modal-c-tabs">

                <!-- Nav tabs -->
                <ul class="nav nav-tabs md-tabs tabs-2 light-blue darken-3" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#panel7" role="tab"><i
                                class="fas fa-user mr-1"></i>
                            Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#panel8" role="tab"><i
                                class="fas fa-user-plus mr-1"></i>
                            Register</a>
                    </li>
                </ul>

                <!-- Tab panels -->
                <div class="tab-content">

                    <!--Login User-->
                    <div class="tab-pane fade in show active" id="panel7" role="tabpanel">
                        <form method="POST" action="{% url 'user:login-user' %}">
                            {% csrf_token %}
                            <!--Body-->
                            <div class="modal-body mb-1">
                                <div class="md-form form-sm mb-5">
                                    <i class="fas fa-envelope prefix"></i>
                                    <input type="email" id="modalLRInput8" name="email"
                                           class="form-control form-control-sm validate">
                                    <label data-error="wrong" data-success="right" for="modalLRInput8">Your
                                        email</label>
                                </div>

                                <div class="md-form form-sm mb-4">
                                    <i class="fas fa-lock prefix"></i>
                                    <input type="password" id="modalLRInput9" name="password"
                                           class="form-control form-control-sm validate">
                                    <label data-error="wrong" data-success="right" for="modalLRInput9">Your
                                        password</label>
                                </div>
                                <div class="text-center mt-2">
                                    <button type="submit" class="btn btn-info">Log in <i
                                            class="fas fa-sign-in ml-1"></i></button>
                                </div>
                            </div>
                            <!--Footer-->
                            <div class="modal-footer">
                                <div class="options text-center text-md-right mt-1">
                                    <p>Forgot <a href="{% url 'password_reset' %}" class="blue-text">Password?</a></p>
                                </div>
                                <button type="button" class="btn btn-outline-info waves-effect ml-auto"
                                        data-dismiss="modal">Close
                                </button>
                            </div>
                        </form>
                    </div>
                    <!--/.Login User-->

                    <!--Create User-->
                    <div class="tab-pane fade" id="panel8" role="tabpanel">
                        <form method="POST" action="{% url 'user:create-user' %}">
                            {% csrf_token %}
                            <!--Body-->
                            <div class="modal-body">
                                <div class="md-form form-sm mb-5">
                                    <i class="fas fa-user prefix"></i>
                                    <input type="text" id="modalLRInput" name="first_name"
                                           class="form-control form-control-sm validate" required>
                                    <label data-error="wrong" data-success="right" for="modalLRInput9">First
                                        Name</label>
                                </div>

                                <div class="md-form form-sm mb-5">
                                    <i class="fas fa-user prefix"></i>
                                    <input type="text" id="modalLRInput10" name="last_name"
                                           class="form-control form-control-sm validate" required>
                                    <label data-error="wrong" data-success="right" for="modalLRInput10">Last
                                        Name</label>
                                </div>

                                <div class="md-form form-sm mb-5">
                                    <i class="fas fa-envelope prefix"></i>
                                    <input type="email" id="modalLRInput12" name="email"
                                           class="form-control form-control-sm validate" required>
                                    <label data-error="wrong" data-success="right" for="modalLRInput12">Your
                                        email</label>
                                </div>

                                <div class="md-form form-sm mb-5">
                                    <i class="fas fa-lock prefix"></i>
                                    <input type="password" id="modalLRInput13" name="password1"
                                           class="form-control form-control-sm validate" required>
                                    <label data-error="wrong" data-success="right" for="modalLRInput13">Your
                                        password</label>
                                </div>

                                <div class="md-form form-sm mb-4">
                                    <i class="fas fa-lock prefix"></i>
                                    <input type="password" id="modalLRInput14" name="password2"
                                           class="form-control form-control-sm validate" required>
                                    <label data-error="wrong" data-success="right" for="modalLRInput14">Repeat
                                        password</label>
                                </div>

                                <div class="text-center form-sm mt-2">
                                    <button type="submit" class="btn btn-info">Sign up <i
                                            class="fas fa-sign-in ml-1"></i></button>
                                </div>

                            </div>
                            <!--Footer-->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-outline-info waves-effect ml-auto"
                                        data-dismiss="modal">Close
                                </button>
                            </div>
                        </form>
                    </div>
                    <!--/.Create User-->
                </div>

            </div>
        </div>
        <!--/.Content-->
    </div>
</div>
<!--Modal: Login / Register Form-->


<!--Import Nav CSS-->
<link rel="stylesheet" href="{% static 'css/nav.css' %}">

<!--NavBar-->
<nav>
    <!-- Top nav -->
    <div class="nav-header">
        {% if not request.user.is_authenticated %}
            <a class="mt-md-2 mr-md-2" href="" data-toggle="modal" data-target="#modalLRForm">
                Login | Register
            </a>
        {% else %}
            <a href="{% url 'user:logout-user' %}">Sign Out</a>
            <a href="{% url 'user:account'%}">Profile</a>
        {% endif %}
    </div>

    <!-- Main Nav contents -->
    <div class="nav-container">
        <span id="menu-open" href=""><i class="fas fa-bars fa-1x"></i></span>
        <div class="brand d-block d-sm-none"><a href="{% url 'shop:home' %}">Deluxe Consignment</a></div>
        <div class="brand d-none d-sm-block" d><a href="{% url 'shop:home' %}">Deluxe Consignment Shop</a></div>
        <form id="search" action="{% url 'shop:store' %}">
            <input class="form-control" id="searchBar" name="q" type="search" placeholder="Search">
        </form>
        <div id="cart">
            <!-- <button class="btn btn-rounded red">2</button> -->
            <!-- <a href=""><i class="fas fa-shopping-cart mr-4"></i></a> -->
            <a class="nav-link dark-grey-text font-weight-bold" href="#" data-toggle="modal"
               data-target="#cart-modal-ex">
                <!-- <span class="badge danger-color">4</span> -->
                <!-- <i class="fas fa-shopping-bag white-text" aria-hidden="true"></i> -->
                <!-- <span class="clearfix d-none d-sm-inline-block" style="color:white">Cart</span> -->
                <span class="badge danger-color">{{cart_quantity}}</span>
                <i class="fas fa-shopping-bag white-text" aria-hidden="true"></i>
                <span class="clearfix d-none d-sm-inline-block" style="color:white">Cart</span>
            </a>
        </div>
    </div>

    <!-- Nav bottom mega menu -->
    <div class="menu">
        <ul>
            <li><a href="{% url 'shop:store' %}">Shop</a> <!--do not like for mobile purposes -->
                <!-- Mega menu display -->
                <div class="menu-sub">
                    <!-- Menu Column -->
                    <div class="menu-col">
                        <div class="menu-category">Brands</div>
                        <ul>
                            <li><a href="{% url 'shop:store' %}?brand=Celine">Celine</a></li>
                            <li><a href="{% url 'shop:store' %}?brand=Burberry">Burberry</a></li>
                            <li><a href="{% url 'shop:store' %}?brand=Gucci">Gucci</a></li>
                            <li><a href="{% url 'shop:store' %}?brand=Balenciaga">Balenciaga</a></li>
                        </ul>

                    </div>
                    <div class="menu-col">
                        <div class="menu-category">Categories</div>
                        <ul>
                            <li><a href="{% url 'shop:store' %}?category=shoes">Shoes</a></li>
                            <li><a href="{% url 'shop:store' %}?category=bags">Bags</a></li>
                            <li><a href="{% url 'shop:store' %}?category=accessories">Accessories</a></li>
                            <li><a href="{% url 'shop:store' %}?category=slgs">SLGs</a></li>
                        </ul>

                    </div>
                    <div class="menu-col">
                        <a href="{% url 'shop:store' %}?brand=Louis Vuitton"><img src="{% static 'images/lv.jpg'%}" alt=""></a>
                    </div>
                    <div class="menu-col">
                        <a href="{% url 'shop:store' %}?brand=Chanel"><img src="{% static 'images/chanel.jpg'%}" alt=""></a>
                    </div>
                </div>
            </li>

            <li><a href="{% url 'shop:about' %}">About</a>
                <!-- <div class="menu-sub">
                    <div class="menu-col">
                        <div class="menu-category"><a href="">Shoe</a></div>
                        <ul>
                            <li><a href="">Small</a></li>
                            <li><a href="">Small</a></li>
                            <li><a href="">Small</a></li>
                        </ul>
                    </div>
                    <div class="menu-col">
                        <div class="menu-category"><a href="">Bag</a></div>
                        <ul>
                            <li><a href="">Small</a></li>
                            <li><a href="">Small</a></li>
                            <li><a href="">Small</a></li>
                        </ul>
                    </div>
                </div> -->
            </li>
            <li><a href="{% url 'shop:consign' %}">Consign</a></li>
            <li><a href="{% url 'blog:home' %}">Blog</a></li>
        </ul>
    </div>
</nav>
<div class="nav-back"></div>
<!--/.Navbar-->


<!-- SIDE NAVBAR -->
<div class="left-nav">
    <div class="side-nav-header">
        <div>
            <span class="ml-3"><a href="">Login</a></span>
            <span class="ml-3"><a href="">Account</a></span>
        </div>
        <span class="mr-3" id="menu-close" href=""><i class="fas fa-times fa-1x"></i></span>
    </div>
    <ul>
        <li><a class="waves-effect" href="{% url 'shop:store' %}?category=bags">Bags</a></li>
        <li><a class="waves-effect" href="{% url 'shop:store' %}">Shoes</a></li>
        <li><a class="waves-effect" href="{% url 'shop:store' %}">Jewelry</a></li>
        <li><a class="waves-effect" href="{% url 'shop:store' %}">Smores</a></li>
        <li><a class="waves-effect" href="#!">Designer Brands</a></li>
        <li><a class="waves-effect" href="#!">Bag</a></li>
        <li><a class="waves-effect" href="#!">Bag</a></li>
        <li><a class="waves-effect" href="#!">Bag</a></li>
        <li><a class="waves-effect" href="#!">Bag</a></li>
        <li><a class="waves-effect" href="#!">Clarke</a></li>
    </ul>
</div>

<!-- Cart Modal -->
<div class="modal fade cart-modal" id="cart-modal-ex" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <!-- Content -->
        <div class="modal-content">
            <!-- Header -->
            <div class="modal-header">
                <h4 class="modal-title font-weight-bold dark-grey-text" id="myModalLabel">Your cart</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!-- Body -->
            <div class="modal-body">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Product name</th>
                        <th>Price</th>
                        <th>QTY</th>
                        <th>Remove</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for item in items %}
                    <tr>
                        <th scope="row">{{forloop.counter}}</th>
                        <td>{{item.product.name}}</td>
                        {% if item.product.discount_price and item.product.discount_price != item.product.price %}
                        <td>${{item.product.discount_price}}</td>
                        {% else %}
                        <td>${{item.product.price}}</td>
                        {% endif %}
                        <td>{{item.quantity}}</td>
                        <td>
                            <a class="update-cart" data-product="{{item.product.id}}" data-action="remove"
                               {% if request.user.is_authenticated %}
                               href="{{item.product.get_remove_from_cart_url}}" {% endif %}>
                                <i class="fas black-text fa-times"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                <a href="{% url 'shop:cart' %}" class="btn btn-primary btn-rounded btn-sm">Cart</a>
            </div>
            <!-- Footer -->
            <div class="modal-footer">
                <button type="button" class="btn purple-gradient btn-rounded btn-sm" data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- Content -->
    </div>
</div>
<!-- Cart Modal -->


<script src="{% static 'js/nav.js' %}"></script>